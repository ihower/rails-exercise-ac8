<% if @topic.errors.any? %>
   <% @topic.errors.full_messages.each do |m| %>
   <p><%= m %></p>
   <% end %>
<% end %>

<%= form_for @topic do |f| %>

  <div class="form-group">
    <%= f.label :subject %>
    <%= f.text_field :subject, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :status %>
    <%= f.select :status, topic_status_options, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :category %>
    <%#= f.collection_select :category_id, Category.all, :id, :name, {}, :class => "form-control" %>
    <%= f.select :category_id, category_name_options, {}, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :image %>
    <%= f.file_field :image, :class => "form-control" %>

    <% if @topic.image.exists? %>
      <%= check_box_tag "destory_image", "1" %> 刪除圖片
    <% end %>

  </div>

  <div class="form-group">
    <%= f.label :content %>
    <%= f.text_area :content, :class => "form-control" %>
  </div>

  <div class="form-group">
    <%= f.submit %>
  </div>

<% end %>

<script>

  $( "#topic_category_id" ).select2({
    theme: "bootstrap"
  });

</script>
